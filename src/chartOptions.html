<div class="chartOptions" tabindex="1" rv-on-keydown="closeOverlays" rv-class-show-instrument-name="showInstrumentName">
    <div class="table">
        <div class="row">
            <div class="cell">
                <div class="chartOptions_button timeperiod primary-color" rv-on-click="toggleTimerPeriodSelector" rv-class-button_selected="showTimePeriodSelector">
                    <span rv-attr-data-balloon='"Time interval" | i18n' data-balloon-pos="down">
                        <span class="vertical-bottom timeperiod-name" rv-text="timePeriod_name"></span>
                        <span class="nav-caret triangle"></span>
                    </span>
                </div>
                <div class="chartOptions_overlay primary-color table timePeriodOverlay" rv-show="showTimePeriodSelector">
                    <div class="row">
                        <div class="cell">
                            <span class="vertical-bottom time" rv-text='"Ticks" | i18n'></span>
                        </div>
                        <div class="cell">
                            <span class="vertical-bottom button fill-bg-color" rv-on-click="changeTimePeriod" rv-data-timeperiod="timeperiod.value" rv-each-timeperiod="timeperiod_arr | filter 'ticks'">{timeperiod.digit}</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="cell">
                            <span class="vertical-bottom time" rv-text='"Minutes" | i18n'></span>
                        </div>
                        <div class="cell">
                            <span class="vertical-bottom button fill-bg-color" rv-each-timeperiod="timeperiod_arr | filter 'minutes'" rv-on-click="changeTimePeriod" rv-data-timeperiod="timeperiod.value">{timeperiod.digit}</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="cell">
                            <span class="vertical-bottom time" rv-text='"Hours" | i18n'></span>
                        </div>
                        <div class="cell">
                            <span class="vertical-bottom button fill-bg-color" rv-each-timeperiod="timeperiod_arr | filter 'hours'" rv-on-click="changeTimePeriod" rv-data-timeperiod="timeperiod.value">{timeperiod.digit}</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="cell">
                            <span class="vertical-bottom time" rv-text='"Days" | i18n'></span>
                        </div>
                        <div class="cell">
                            <span class="vertical-bottom button fill-bg-color" rv-each-timeperiod="timeperiod_arr | filter 'days'" rv-on-click="changeTimePeriod" rv-data-timeperiod="timeperiod.value">{timeperiod.digit}</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="cell">
                <div class="chartOptions_button chart_type primary-color" rv-on-click="toggleChartTypeSelector" rv-class-button_selected="showChartTypeSelector">
                    <span rv-attr-data-balloon='"Chart type" | i18n' data-balloon-pos="down">
                        <div class="img">
                           <span rv-class="chartType.value | append '-icon'" rv-show="showChartTypeSelector | negate"></span>
                           <span rv-class="chartType.value | append '-w-icon'" rv-show="showChartTypeSelector"></span>
                        </div>
                        <span class="vertical-bottom charttype-name" rv-show="showChartTypeLabel" rv-text="chartType.name | i18n"></span>
                        <span class="nav-caret triangle"></span>
                    </span>
                </div>
                <div class="chartOptions_overlay primary-color chartTypeOverlay table" rv-show="showChartTypeSelector">
                    <div class="row" rv-each-item="chartTypes" rv-class-showBorder="item.showBorder">
                        <div class="cell" rv-data-charttype="item.value" rv-on-click="changeChartType">
                            <div class="img"><div rv-class="item.value | append '-icon'"></div></div>
                            <span class="vertical-bottom" rv-text="item.name | i18n"></span>
                        </div>
                    </div>
                    <div class="row" rv-on-click="toggleCrosshair">
                        <div class="cell">
                            <div class="img"><div class="crosshair-icon"></div></div>
                            <span class="vertical-bottom" rv-class-bold="enableCrosshair" rv-text='"Crosshair" | i18n'></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="cell">
                <div class="chartOptions_button primary-color" rv-on-click="toggleIndicatorDropDown" rv-class-button_selected="showIndicatorDropDown">
                    <span rv-attr-data-balloon='"Indicators" | i18n' data-balloon-pos="down">
                        <div class="img">
                           <span class="indicator-icon" rv-show="showIndicatorDropDown | negate"></span>
                           <span class="indicator-w-icon" rv-show="showIndicatorDropDown"></span>
                        </div>
                    </span>
                </div>
                <span class="countBubl" rv-show="indicatorsCount | gt 0" rv-text="indicatorsCount"></span>
                <div class="chartOptions_overlay primary-color indicators" rv-show="showIndicatorDropDown"></div>
            </div>

            <div class="cell" rv-show="showOverlay">
                <div class="chartOptions_button primary-color" rv-on-click="addRemoveOverlay">
                    <span rv-attr-data-balloon='"Comparisons" | i18n' data-balloon-pos="down">
                        <div class="img"> <span class="comparison-icon" ></span></div>
                    </span>
                </div>
                <span class="countBubl" rv-show="overlayCount | gt 0" rv-text="overlayCount"></span>
            </div>

            <div class="cell" rv-show="showDrawingTools">
                <div class="chartOptions_button primary-color" rv-on-click="toggleDrawingToolSelector" rv-class-button_selected="showDrawingToolSelector">
                    <span class = "drawButton" rv-attr-data-balloon='"Drawing tools" | i18n' data-balloon-pos="down">
                        <div class="img">
                           <span class="drawing-icon" rv-show="showDrawingToolSelector | negate"></span>
                           <span class="drawing-w-icon" rv-show="showDrawingToolSelector"></span>
                        </div>
                    </span>
                </div>
                <div class="chartOptions_overlay primary-color drawingToolOverlay table" rv-show="showDrawingToolSelector">
                    <div class="row">
                        <div class="cell" rv-on-click="addDrawingTool">
                            <span rv-attr-data-balloon='"Vertical line" | i18n' class='no-underline'>
                                <div class="img"><img rv-attr-src="images.vertical_line" data-drawingtool="vertical_line"></div>
                            </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="cell" rv-on-click="addDrawingTool">
                            <span rv-attr-data-balloon='"Horizontal line" | i18n' class='no-underline'>
                                  <div class="img"><img rv-attr-src="images.horizontal_line" data-drawingtool="horizontal_line"></div>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="cell">
                <div class="chartOptions_button primary-color" rv-on-click="toggleLoadSaveSelector" rv-class-button_selected="showLoadSaveSelector">
                  <span class = "templateButton" rv-attr-data-balloon='"Chart template" | i18n' data-balloon-pos="down">
                    <div class="img">
                       <span class="chart_template-icon" rv-show="showLoadSaveSelector | negate"></span>
                       <span class="chart_template-w-icon" rv-show="showLoadSaveSelector"></span>
                    </div>
                  </span>
                </div>
                <div class="chartOptions_overlay primary-color table font-s loadSaveOverlay" rv-show="showLoadSaveSelector">
                    <div class='chart-template-manager-root'><!-- chartTemplateManger.es6 will render here --></div>
                </div>
            </div>
            <div class="cell" rv-show="showShare">
                <div class="chartOptions_button primary-color" rv-on-click="toggleShareSelector" rv-class-button_selected="showShareSelector">
                    <span class = "shareButton" rv-attr-data-balloon='"Share chart" | i18n' data-balloon-pos="down">
                        <div class="img">
                           <span class="share-icon" rv-show="showShareSelector | negate"></span>
                           <span class="share-w-icon" rv-show="showShareSelector"></span>
                        </div>
                    </span>
                </div>
                <div class="table chartOptions_overlay primary-color exportOverlay" rv-show="showShareSelector">
                    <div class="row">
                        <div class="cell">
                            <div class="table download">
                                <div class="row">
                                    <div class="cell">
                                        <span class="vertical-bottom button fill-bg-color" rv-on-click="export" data-exporttype="png">PNG</span>
                                    </div>
                                    <div class="cell">
                                        <span class="vertical-bottom button fill-bg-color" rv-on-click="export" data-exporttype="pdf">PDF</span>
                                    </div>
                                    <div class="cell">
                                        <span class="vertical-bottom button fill-bg-color" rv-on-click="export" data-exporttype="csv">CSV</span>
                                    </div>
                                    <div class="cell">
                                        <span class="vertical-bottom button fill-bg-color" rv-on-click="export" data-exporttype="svg">SVG</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="instrument_name" rv-show="showInstrumentName">
        <strong>{instrumentName}</strong>
    </div>
</div>
